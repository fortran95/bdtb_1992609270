_.Module.define({path:"pb/component/Passive",sub:{initial:function(a){this.loaded_count=0,this.jdom=$("#j_p_postlist");this.area_list=this.jdom.find("div.l_post");this.callback=a;this.loadInViewArea();this.bindEventOnWindowScroll()},bindEventOnWindowScroll:function(){var a=this;this.scroll_handler=function(b){a.loadInViewArea()};$(window).bind("scroll",this.scroll_handler)},unbindEventOnWindowScroll:function(){$(window).unbind("scroll",this.scroll_handler)},loadInViewArea:function(){var e=$(window).scrollTop();var g=$(window).height()+10;var f={min:Math.max((e-g),0),max:e+g};var a=null;for(var d=0;d<this.area_list.length;d++){var b=$(this.area_list[d]);var c={min:b.offset().top,max:b.offset().top+b.height()};if(b.attr("data-passive")==="loaded"){continue}else{if(Math.max(f.min,c.min)<Math.min(f.max,c.max)){b.attr("data-passive","loaded");this.loaded_count++;this.callback(b)}}}if(this.loaded_count===this.area_list.length){this.unbindEventOnWindowScroll()}}}});