var bdPass=bdPass||{};bdPass.api=bdPass.api||{};bdPass.api.params=bdPass.api.params||{};bdPass.api.params.loginLite_token="";bdPass.api.params.loginLite_codestring="";bdPass.api.loginLite=bdPass.api.loginLite||(function(){if(typeof(bdPass_api_loginLite_userCallBack)!="function"){throw new Error("\u60a8\u5fc5\u987b\u6309\u7167\u4f7f\u7528\u6587\u6863\u5185\u7684\u683c\u5f0f\uff0c\u8bbe\u7f6e\u4e00\u4e2a\u540d\u4e3a'bdPass_api_loginLite_userCallBack'\u7684\u56de\u8c03\u51fd\u6570");return}var h="https://passport.baidu.com/",f=h+"v2/api/?login",F=h+"v2/api/?loginliteinfo",s=h+"v2/?reggetcodestr&callback=",z="https://passport.baidu.com/cgi-bin/genimage?",x=h+"v2/api/?otherplacecheck",n="pass_loginLite_form",D="pass_loginLite_p_verifycode",w="pass_loginLite_a_verifycode",i="pass_loginLite_verifycodeImg_wrapper",m="pass_loginLite_err",q="pass_loginLite_tip",t="pass_loginLite_hidden_",p=/^\d{1,11}$/,d=function(){},G=document.charset||document.characterSet||"UTF-8",o={staticpage:"",tpl:"",onSubmitStart:d,onSubmitedErr:d,onSuccess:function(){location.reload()},onInputOk:d,onInputErr:d,onInputTip:d,onFormReady:d},v={"1":"\u5e10\u53f7\u683c\u5f0f\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165","2":"\u6b64\u5E10\u53f7\u4e0d\u5b58\u5728","120011":"\u8bf7\u586b\u5199\u5E10\u53f7","4":"\u767b\u5f55\u5bc6\u7801\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165","120012":"\u8bf7\u586b\u5199\u5bc6\u7801","6":"\u9a8c\u8bc1\u7801\u4e0d\u5339\u914d\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\u9a8c\u8bc1\u7801","257":"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801","5":"\u767b\u5f55\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf724\u5c0f\u65f6\u540e\u518d\u8bd5","16":"\u5bf9\u4e0d\u8d77\uff0c\u60a8\u73b0\u5728\u65e0\u6cd5\u767b\u5f55","100005":"\u6b64\u5e10\u53f7\u5df2\u767b\u5f55\u4eba\u6570\u8fc7\u591a","110024":"\u6b64\u5E10\u53f7\u8fd8\u672a\u6fc0\u6d3b\uff0c\u8bf7\u5230\u9a8c\u8bc1\u90ae\u4ef6\u4e2d\u6fc0\u6d3b\uff0c\u6216\u8005\u91cd\u53d1\u9a8c\u8bc1\u90ae\u4ef6","-1":"\u767b\u5f55\u65f6\u53d1\u751f\u672a\u77e5\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"},l={"1":"\u60a8\u8fd1\u671f\u591a\u6b21\u5f02\u5e38\u9000\u51fa\u767e\u5ea6\uff01\u53ef\u80fd\u4e0e\u60a8\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\u6709\u5173\uff0c\u5efa\u8bae\u60a8\u66f4\u6362\u4f7f\u7528\u5176\u4ed6\u6d4f\u89c8\u5668\u3002"},C={};var B=function(g){return document.getElementById(g)};var c=function(J,I){for(var g in I){J.setAttribute(g,I[g])}};var e=function(J,g,I){if(J.addEventListener){e=function(M,K,L){M.addEventListener(K,L,false)}}else{if(J.attachEvent){e=function(M,K,L){M.attachEvent("on"+K,L)}}else{e=function(M,K,L){M["on"+K]=L}}}e(J,g,I)};var b=function(J,g){if(!g){return}for(var I in g){e(J,I,g[I])}};var k=function(g){var g=g||window.event;return g.target||g.srcElement};var A=function(J,I){var g=v[J.toString()];if(g){C[I].errShowerDom.innerHTML=g}else{C[I].errShowerDom.innerHTML=v["-1"]}};var a=function(K,g,J){if(J==1){var I=l["1"];C[g].tipShowerDom.style.display="none";if(I){C[g].tipShowerDom.innerHTML=I}else{C[g].tipShowerDom.innerHTML=""}C[g].onInputTip(C[g],1)}else{C[g].onInputTip(C[g],0)}};var H=function(g){return/\d+$/.exec(g)[0]};var r=function(L,M){var J=bdPass.api.params.loginLite_token,K=(M===true)?L:C[H(this.id)];if(J){var g=K.inputs;for(var I in g){if(g[I].validCheck()){continue}else{return false}}K.hiddenInputsDoms.token.value=J;K.hiddenInputsDoms.codestring.value=bdPass.api.params.loginLite_codestring;K.onSubmitStart(K.formIndex);return true}else{K.getServerInfoOrIsVerifyCodeNeed(true);return false}};var u=function(g,I){if(g&&g!="undefined"){bdPass.api.params.loginLite_codestring=g;I.hasCodeStringState()}else{bdPass.api.params.loginLite_codestring="";I.noCodeStringState()}};var j=function(g){this.formIndex=g;this.dom=B(n+g);this.attrs={action:f,method:"post"};this.inputs={};this.hiddenInputsDoms={};this.isPhone=false;this.codeStringP=B(D+g);this.verifycodeImg=null;this.verifycodeImgWrapper=B(i+g);this.changeVerifycodeA=B(w+g);this.errShowerDom=B(m+g);this.tipShowerDom=B(q+g);this.hiddens={charset:G,isPhone:false,index:g,safeflg:0,staticpage:o.staticpage,loginType:1,tpl:o.tpl,codestring:"",token:"",callback:"parent.bdPass.api.loginLite._submitCallBack"};this.onSubmitStart=o.onSubmitStart;this.onSubmitedErr=o.onSubmitedErr;this.onSuccess=o.onSuccess;this.onInputOk=o.onInputOk;this.onInputTip=o.onInputTip;this.onInputErr=o.onInputErr;this.onFormReady=o.onFormReady};j.prototype.setAttrs=function(){c(this.dom,this.attrs);return this};j.prototype.markHiddens=function(){var L=document,K=L.createDocumentFragment(),I=this.hiddens;for(var g in I){var J=L.createElement("INPUT");J.type="hidden";J.id=t+g+this.formIndex;J.name=g;J.value=I[g];this.hiddenInputsDoms[g]=J;K.appendChild(J)}this.dom.appendChild(K);return this};j.prototype.setVerifycodeImgSrc=function(I){if(I){bdPass.api.params.loginLite_codestring=I}var J=z+bdPass.api.params.loginLite_codestring+"&t="+new Date().getTime();if(this.verifycodeImg){this.verifycodeImg.src=J}else{var g=document.createElement("IMG");g.src=J;this.verifycodeImgWrapper.appendChild(g);this.verifycodeImg=g}this.inputs.verifycode.dom.value="";this.hiddenInputsDoms.codestring.value=bdPass.api.params.loginLite_codestring};j.prototype.phoneState=function(){this.isPhone=true;this.hiddenInputsDoms.isPhone.value=true;this.inputs.username.phoneState();return this};j.prototype.normalState=function(){this.isPhone=false;this.hiddenInputsDoms.isPhone.value=false;this.inputs.username.normalState();return this};j.prototype.hasCodeStringState=function(g){this.codeStringP.style.display="";this.inputs.verifycode.dom.value="";this.setVerifycodeImgSrc();return this};j.prototype.noCodeStringState=function(){this.codeStringP.style.display="none";this.inputs.verifycode.dom.value="";return this};j.prototype.overWirteSubmit=function(){this.dom.onsubmit=r};j.prototype.getServerInfoOrIsVerifyCodeNeed=function(g){if(!bdPass.api.params.loginLite_token&&this.inputs.username.validCheck()){bdPass.api.insertScriptCall(F+"&username="+encodeURIComponent(this.inputs.username.dom.value)+"&isPhone="+this.inputs.username.isPhone+"&tpl="+encodeURIComponent(o.tpl)+"&immediatelySubmit="+g+"&index="+this.formIndex+"&t="+new Date().getTime())}else{u(bdPass.api.params.loginLite_codestring,this)}};var E=function(K,L,I,M){var g=new y(K,L,I);for(var J in M){g[J]=M[J]}return g};var y=function(I,J,g){this.type=I;this.form=J;this.attrs=g;this.dom=B("pass_loginLite_input_"+I+J.formIndex);this.events={}};y.prototype.setAttrs=function(){c(this.dom,this.attrs);return this};y.prototype.bindEvents=function(){b(this.dom,this.events);return this};y.prototype.validCheck=function(){return true};y.prototype.emptyCheck=function(L){var I=this.type;if(I=="isMem"){throw new Error("type\u4e3aisMem\u7684input\u5b9e\u4f8b\u4e0d\u80fd\u4f7f\u7528emptyCheck\u65b9\u6cd5")}else{var K=this.dom,J=this.form;if(K.value){return true}else{var g=J.formIndex;A(L,g);J.onInputErr(K,L,g);return false}}};return{version:"2.0.0",init:function(R){for(var K=0,O=R.length;K<O;K++){if(typeof(R[K])=="number"){R[K]={formIndex:R[K]}}var N=R[K].formIndex,g=C[N]=new j(N);g.markHiddens().setAttrs();var J=g.inputs.username=E("username",g,{name:"username"},{isPhone:false,phoneState:function(){this.isPhone=true},normalState:function(){this.isPhone=false},validCheck:function(){var V=this.form,U=V.formIndex,X=this.dom,W=X.value;if(this.emptyCheck(120011)){var T=this.isPhone;if(T){if(p.test(W)){V.onInputOk(X,U);return true}else{A(1,U);V.onInputErr(X,1,U);return false}}else{if(W.length>60){A(1,U);V.onInputErr(X,1,U);return false}else{V.onInputOk(X,U);return true}}}else{return false}}});J.events.blur=function(V){var U=k(V);var T=C[H(k(V).id)].hiddenInputsDoms.isPhone.value;if(T=="true"){M("phoneNumber",U)}else{M("username",U)}};var M=function(U,T){if(T&&T.value==""){return false}else{var V=H(T.id);bdPass.api.insertScriptCall(x+"&callback=bdPass.api.loginLite.needOtherPlaceTipCallback&tpl="+(o.tpl||"")+"&index="+V+"&username="+encodeURIComponent(T.value)+"&inputType="+U+"&time="+new Date().getTime())}};var S=g.inputs.password=E("password",g,{name:"password"},{validCheck:function(){return this.emptyCheck(120012)}});S.events.focus=function(T){C[H(k(T).id)].getServerInfoOrIsVerifyCodeNeed(false)};var L=g.inputs.verifycode=E("verifycode",g,{name:"verifycode",maxLength:"4"},{validCheck:function(){if(bdPass.api.params.loginLite_codestring){return this.emptyCheck(257)}else{return true}}});var P=g.inputs.isMem=E("isMem",g,{name:"mem_pass"},{});for(var Q in g.inputs){g.inputs[Q].setAttrs().bindEvents()}e(g.changeVerifycodeA,"click",function(T){bdPass.api.insertScriptCall(s+"bdPass.api.loginLite.changeNewVcodeCallback&index="+H(k(T).id)+"&v="+new Date().getTime());if(T.preventDefault){T.preventDefault()}else{T.returnValue=false}});for(var I in R[K]){if(typeof(R[K][I])=="function"){g[I]=R[K][I]}}g.overWirteSubmit();g.onFormReady(N)}},changeNewVcodeCallback:function(g){if(g.error_no=="110000"){C[g.thisIndex].setVerifycodeImgSrc(g.verifystr)}},needOtherPlaceTipCallback:function(g){a(g.type,g.index,g.isShowTip)},destroy:function(I){for(var J=0,g=I.length;J<g;J++){if(C[I[J]]){C[I[J]]=null}}},getSuggestFormIndexArray:function(I){var g=0,J=[];while(I){while(C[g]){g=parseInt(Math.random()*1000)}C[g]=true;J.push(g);I--}return J},setUserConf:function(I){if(typeof(I)!="object"||typeof(I.staticpage)!="string"||typeof(I.tpl)!="string"){throw new Error("\u60a8\u5fc5\u987b\u6309\u7167\u6587\u6863\u5185\u7684\u683c\u5f0f\uff0c\u628a\u6240\u9700\u914d\u7f6e\u9879\u7f6e\u7f6e\u4e8e'bdPass_api_loginLite_userCallBack'\u7684\u56de\u8c03\u51fd\u6570\u4e2d\u7684'bdPass.api.loginLite.setUserConf'\u7684\u65b9\u6cd5\u7684\u53c2\u6570\u4e2d");return}for(var g in o){if(typeof(I[g])!="undefined"&&(typeof(I[g])==typeof(o[g]))){o[g]=I[g]}}bdPass.api.loginLite.setUserConf=null},switchToPhoneState:function(g){C[g].phoneState()},switchToNormalState:function(g){C[g].normalState()},_getInfo:function(g){var I=C[g.index];u(g.codestring,I);bdPass.api.params.loginLite_token=g.token;if(g.immediatelySubmit&&r(I,true)){I.dom.submit()}},_submitCallBack:function(g){var K=g.error.toString(),I=g.u,L=C[g.index];var M=g.hao123Param||"";var J=function(O){var P=[];return function(R){var Q=P.push(new Image)-1;P[Q].onload=function(){O&&O();P[Q]=P[Q].onload=null};P[Q].src=R}}();if(K=="0"){if(M){var N=setTimeout(function(){L.onSuccess(L.formIndex,g)},1000);J("http://user.hao123.com/static/crossdomain.php?bdu="+M+"&t="+Math.random(),function(){clearTimeout(N);L.onSuccess(L.formIndex,g)})}else{L.onSuccess(L.formIndex,g)}}else{u(g.codestring,L);A(K,L.formIndex);L.onSubmitedErr(K,L.formIndex,g)}}}})();bdPass_api_loginLite_userCallBack();bdPass_api_loginLite_loaded=true;(function(){bdPass.api["parent.bdPass.api.loginLite._submitCallBack"]=bdPass.api.loginLite._submitCallBack})();
